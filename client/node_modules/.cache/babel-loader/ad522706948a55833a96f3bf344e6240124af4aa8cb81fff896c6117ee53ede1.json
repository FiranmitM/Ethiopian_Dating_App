{"ast":null,"code":"var _jsxFileName = \"/home/franmit/Downloads/Ethiopia_dating_app/client/src/pages/Chat/ChatFooter.js\",\n  _s = $RefreshSig$();\nimport { Button, Input } from '@mui/material';\nimport { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChatFooter = _ref => {\n  _s();\n  let {\n    socket,\n    connections\n  } = _ref;\n  const [message, setMessage] = useState('');\n  const room = useSelector(state => state.room);\n  const user = useSelector(state => state.user);\n  if (room === '') return null;\n  const receiver_user = connections.find(user => user.connection_id === room);\n  if (receiver_user === undefined) return null;\n  const handleSendMessage = e => {\n    e.preventDefault();\n    if (message.trim() && user && receiver_user) {\n      socket.emit('send_message', {\n        text: message,\n        sender_id: user.id,\n        receiver_id: receiver_user.user_id,\n        name: user.name,\n        room: room,\n        key: `${user.id}-${room}-${Date.now()}`\n      });\n    }\n    setMessage('');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat_footer\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form\",\n      onSubmit: handleSendMessage,\n      children: [/*#__PURE__*/_jsxDEV(Input, {\n        type: \"text\",\n        placeholder: \"Type a message\",\n        value: message,\n        onChange: e => setMessage(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 3\n  }, this);\n};\n_s(ChatFooter, \"iNsjizwD6ANLxHzyXW7gSNSXTIQ=\", false, function () {\n  return [useSelector, useSelector];\n});\n_c = ChatFooter;\nexport default ChatFooter;\nvar _c;\n$RefreshReg$(_c, \"ChatFooter\");","map":{"version":3,"names":["Button","Input","useState","useSelector","ChatFooter","socket","connections","message","setMessage","room","state","user","receiver_user","find","connection_id","undefined","handleSendMessage","e","preventDefault","trim","emit","text","sender_id","id","receiver_id","user_id","name","key","Date","now","target","value"],"sources":["/home/franmit/Downloads/Ethiopia_dating_app/client/src/pages/Chat/ChatFooter.js"],"sourcesContent":["import { Button, Input } from '@mui/material'\nimport { useState } from 'react'\nimport { useSelector } from 'react-redux'\n\nconst ChatFooter = ({ socket, connections }) => {\n\tconst [message, setMessage] = useState('')\n\tconst room = useSelector(state => state.room)\n\tconst user = useSelector(state => state.user)\n\n\tif (room === '') return null\n\tconst receiver_user = connections.find(user => user.connection_id === room)\n\tif (receiver_user === undefined) return null\n\n\tconst handleSendMessage = (e) => {\n\t\te.preventDefault()\n\t\tif (message.trim() && user && receiver_user) {\n\t\t\tsocket.emit('send_message', {\n\t\t\t\ttext: message,\n\t\t\t\tsender_id: user.id,\n\t\t\t\treceiver_id: receiver_user.user_id,\n\t\t\t\tname: user.name,\n\t\t\t\troom: room,\n\t\t\t\tkey: `${user.id}-${room}-${Date.now()}`\n\t\t\t})\n\t\t}\n\t\tsetMessage('')\n\t}\n\n\treturn (\n\t\t<div className='chat_footer'>\n\t\t\t<form className='form' onSubmit={handleSendMessage}>\n\t\t\t\t<Input\n\t\t\t\t\ttype='text'\n\t\t\t\t\tplaceholder='Type a message'\n\t\t\t\t\tvalue={message}\n\t\t\t\t\tonChange={(e) => setMessage(e.target.value)}\n\t\t\t\t/>\n\t\t\t\t<Button type='submit'>Send</Button>\n\t\t\t</form>\n\t\t</div>\n\t)\n}\n\nexport default ChatFooter\n"],"mappings":";;AAAA,SAASA,MAAM,EAAEC,KAAK,QAAQ,eAAe;AAC7C,SAASC,QAAQ,QAAQ,OAAO;AAChC,SAASC,WAAW,QAAQ,aAAa;AAAA;AAEzC,MAAMC,UAAU,GAAG,QAA6B;EAAA;EAAA,IAA5B;IAAEC,MAAM;IAAEC;EAAY,CAAC;EAC1C,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAMO,IAAI,GAAGN,WAAW,CAACO,KAAK,IAAIA,KAAK,CAACD,IAAI,CAAC;EAC7C,MAAME,IAAI,GAAGR,WAAW,CAACO,KAAK,IAAIA,KAAK,CAACC,IAAI,CAAC;EAE7C,IAAIF,IAAI,KAAK,EAAE,EAAE,OAAO,IAAI;EAC5B,MAAMG,aAAa,GAAGN,WAAW,CAACO,IAAI,CAACF,IAAI,IAAIA,IAAI,CAACG,aAAa,KAAKL,IAAI,CAAC;EAC3E,IAAIG,aAAa,KAAKG,SAAS,EAAE,OAAO,IAAI;EAE5C,MAAMC,iBAAiB,GAAIC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,EAAE;IAClB,IAAIX,OAAO,CAACY,IAAI,EAAE,IAAIR,IAAI,IAAIC,aAAa,EAAE;MAC5CP,MAAM,CAACe,IAAI,CAAC,cAAc,EAAE;QAC3BC,IAAI,EAAEd,OAAO;QACbe,SAAS,EAAEX,IAAI,CAACY,EAAE;QAClBC,WAAW,EAAEZ,aAAa,CAACa,OAAO;QAClCC,IAAI,EAAEf,IAAI,CAACe,IAAI;QACfjB,IAAI,EAAEA,IAAI;QACVkB,GAAG,EAAG,GAAEhB,IAAI,CAACY,EAAG,IAAGd,IAAK,IAAGmB,IAAI,CAACC,GAAG,EAAG;MACvC,CAAC,CAAC;IACH;IACArB,UAAU,CAAC,EAAE,CAAC;EACf,CAAC;EAED,oBACC;IAAK,SAAS,EAAC,aAAa;IAAA,uBAC3B;MAAM,SAAS,EAAC,MAAM;MAAC,QAAQ,EAAEQ,iBAAkB;MAAA,wBAClD,QAAC,KAAK;QACL,IAAI,EAAC,MAAM;QACX,WAAW,EAAC,gBAAgB;QAC5B,KAAK,EAAET,OAAQ;QACf,QAAQ,EAAGU,CAAC,IAAKT,UAAU,CAACS,CAAC,CAACa,MAAM,CAACC,KAAK;MAAE;QAAA;QAAA;QAAA;MAAA,QAC3C,eACF,QAAC,MAAM;QAAC,IAAI,EAAC,QAAQ;QAAA,UAAC;MAAI;QAAA;QAAA;QAAA;MAAA,QAAS;IAAA;MAAA;MAAA;MAAA;IAAA;EAC7B;IAAA;IAAA;IAAA;EAAA,QACF;AAER,CAAC;AAAA,GArCK3B,UAAU;EAAA,QAEFD,WAAW,EACXA,WAAW;AAAA;AAAA,KAHnBC,UAAU;AAuChB,eAAeA,UAAU;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}